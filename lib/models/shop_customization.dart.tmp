// lib/models/shop_customization.dart
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:flutter/material.dart';

class ShopCustomization {
  final String sellerId;
  final ScreenShopTheme theme;
  final ShopBanner? banner;
  final List<ShopSection> sections;
  final ShopColors colors;
  final ShopLayout layout;
  final List<String> featuredProductIds;
  final List<ShopPromotion> promotions;
  final Timestamp? updatedAt;
  final Timestamp? createdAt;

  ShopCustomization({
    required this.sellerId,
    required this.theme,
    this.banner,
    required this.sections,
    required this.colors,
    required this.layout,
    required this.featuredProductIds,
    required this.promotions,
    this.updatedAt,
    this.createdAt,
  });

  factory ShopCustomization.fromMap(Map<String, dynamic> map) {
    return ShopCustomization(
      sellerId: map['sellerId'] ?? '',
      theme: ScreenShopTheme.values.firstWhere(
        (e) => e.toString().split('.').last == map['theme'],
        orElse: () => ScreenShopTheme.greenEco,
      ),
      banner: map['banner'] != null ? ShopBanner.fromMap(map['banner']) : null,
      sections: List<ShopSection>.from(
        map['sections']?.map((x) => ShopSection.fromMap(x)) ?? [],
      ),
      colors: ShopColors.fromMap(map['colors'] ?? {}),
      layout: ShopLayout.fromMap(map['layout'] ?? {}),
      featuredProductIds: List<String>.from(map['featuredProductIds'] ?? []),
      promotions: List<ShopPromotion>.from(
        map['promotions']?.map((x) => ShopPromotion.fromMap(x)) ?? [],
      ),
      updatedAt: map['updatedAt'] is Timestamp ? map['updatedAt'] : null,
      createdAt: map['createdAt'] is Timestamp ? map['createdAt'] : null,
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'sellerId': sellerId,
      'theme': theme.toString().split('.').last,
      'banner': banner?.toMap(),
      'sections': sections.map((x) => x.toMap()).toList(),
      'colors': colors.toMap(),
      'layout': layout.toMap(),
      'featuredProductIds': featuredProductIds,
      'promotions': promotions.map((x) => x.toMap()).toList(),
      'updatedAt': updatedAt ?? FieldValue.serverTimestamp(),
      'createdAt': createdAt ?? FieldValue.serverTimestamp(),
    };
  }

  ShopCustomization copyWith({
    String? sellerId,
    ScreenShopTheme? theme,
    ShopBanner? banner,
    List<ShopSection>? sections,
    ShopColors? colors,
    ShopLayout? layout,
    List<String>? featuredProductIds,
    List<ShopPromotion>? promotions,
    Timestamp? updatedAt,
    Timestamp? createdAt,
  }) {
    return ShopCustomization(
      sellerId: sellerId ?? this.sellerId,
      theme: theme ?? this.theme,
      banner: banner ?? this.banner,
      sections: sections ?? this.sections,
      colors: colors ?? this.colors,
      layout: layout ?? this.layout,
      featuredProductIds: featuredProductIds ?? this.featuredProductIds,
      promotions: promotions ?? this.promotions,
      updatedAt: updatedAt ?? this.updatedAt,
      createdAt: createdAt ?? this.createdAt,
    );
  }
}

enum ScreenShopTheme {
  // ‡∏ò‡∏µ‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Green Market
  shopeeClassic, // ‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å
  fashionBoutique, // ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô
  techStore, // ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
  beautyCosmetic, // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥
  foodDelivery, // ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å
  sportsOutdoor, // ‡∏Å‡∏µ‡∏¨‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
  homeDecor, // ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°
  kidsFamily, // ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
  luxuryBrand, // ‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤‡πÅ‡∏ö‡∏ö‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô
  naturalOrganic, // ‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÅ‡∏ó‡πâ 100%
  vintageRetro, // ‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏à
  minimalistClean, // ‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢

  // ‡∏ò‡∏µ‡∏°‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠ backward compatibility
  greenEco,
  modernLuxury,
  minimalist,
  techDigital,
  warmVintage,
  vibrantYouth,
  shopeeOrange,
  lazadaBlue,
  elegantGold,
  freshMint,
}

extension ScreenShopThemeExtension on ScreenShopTheme {
  String get name {
    switch (this) {
      // ‡∏ò‡∏µ‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà
      case ScreenShopTheme.shopeeClassic:
        return '‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å';
      case ScreenShopTheme.fashionBoutique:
        return '‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô';
      case ScreenShopTheme.techStore:
        return '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß';
      case ScreenShopTheme.beautyCosmetic:
        return '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥';
      case ScreenShopTheme.foodDelivery:
        return '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å';
      case ScreenShopTheme.sportsOutdoor:
        return '‡∏Å‡∏µ‡∏¨‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥';
      case ScreenShopTheme.homeDecor:
        return '‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°';
      case ScreenShopTheme.kidsFamily:
        return '‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß';
      case ScreenShopTheme.luxuryBrand:
        return '‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤‡πÅ‡∏ö‡∏ö‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô';
      case ScreenShopTheme.naturalOrganic:
        return '‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÅ‡∏ó‡πâ 100%';
      case ScreenShopTheme.vintageRetro:
        return '‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏à';
      case ScreenShopTheme.minimalistClean:
        return '‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢';

      // ‡∏ò‡∏µ‡∏°‡πÄ‡∏Å‡πà‡∏≤
      case ScreenShopTheme.greenEco:
        return 'Green Eco';
      case ScreenShopTheme.modernLuxury:
        return 'Modern Luxury';
      case ScreenShopTheme.minimalist:
        return 'Minimalist';
      case ScreenShopTheme.techDigital:
        return 'Tech Digital';
      case ScreenShopTheme.warmVintage:
        return 'Warm Vintage';
      case ScreenShopTheme.vibrantYouth:
        return 'Vibrant Youth';
      case ScreenShopTheme.shopeeOrange:
        return 'Shopee Style';
      case ScreenShopTheme.lazadaBlue:
        return 'Lazada Style';
      case ScreenShopTheme.elegantGold:
        return 'Elegant Gold';
      case ScreenShopTheme.freshMint:
        return 'Fresh Mint';
    }
  }

  // ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏ò‡∏µ‡∏°
  IconData get icon {
    switch (this) {
      case ScreenShopTheme.shopeeClassic:
        return Icons.eco;
      case ScreenShopTheme.fashionBoutique:
        return Icons.checkroom;
      case ScreenShopTheme.techStore:
        return Icons.devices;
      case ScreenShopTheme.beautyCosmetic:
        return Icons.face;
      case ScreenShopTheme.foodDelivery:
        return Icons.restaurant;
      case ScreenShopTheme.sportsOutdoor:
        return Icons.fitness_center;
      case ScreenShopTheme.homeDecor:
        return Icons.home;
      case ScreenShopTheme.kidsFamily:
        return Icons.family_restroom;
      case ScreenShopTheme.luxuryBrand:
        return Icons.diamond;
      case ScreenShopTheme.naturalOrganic:
        return Icons.local_florist;
      case ScreenShopTheme.vintageRetro:
        return Icons.history;
      case ScreenShopTheme.minimalistClean:
        return Icons.tune;
      default:
        return Icons.store;
    }
  }

  String get description {
    switch (this) {
      // ‡∏ò‡∏µ‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà
      case ScreenShopTheme.shopeeClassic:
        return '‡∏ò‡∏µ‡∏°‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ï‡∏•‡∏≤‡∏î‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó';
      case ScreenShopTheme.fashionBoutique:
        return '‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•';
      case ScreenShopTheme.techStore:
        return '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô';
      case ScreenShopTheme.beautyCosmetic:
        return '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏≠‡∏≤‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ú‡∏¥‡∏ß‡∏£‡∏±‡∏Å‡∏©‡πå‡πÇ‡∏•‡∏Å';
      case ScreenShopTheme.foodDelivery:
        return '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å ‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡∏û‡∏¥‡∏© ‡∏™‡∏î‡∏à‡∏≤‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏°';
      case ScreenShopTheme.sportsOutdoor:
        return '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Å‡∏µ‡∏¨‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á';
      case ScreenShopTheme.homeDecor:
        return '‡∏Ç‡∏≠‡∏á‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏ö‡πâ‡∏≤‡∏ô ‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏£‡∏±‡∏Å‡∏©‡πå‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°';
      case ScreenShopTheme.kidsFamily:
        return '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏°‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏î‡πá‡∏Å ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÑ‡∏£‡πâ‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ';
      case ScreenShopTheme.luxuryBrand:
        return '‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤ ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°';
      case ScreenShopTheme.naturalOrganic:
        return '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÅ‡∏ó‡πâ 100% ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô';
      case ScreenShopTheme.vintageRetro:
        return '‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏à ‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡πÉ‡∏´‡∏°‡πà ‡∏•‡∏î‡∏Ç‡∏¢‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å';
      case ScreenShopTheme.minimalistClean:
        return '‡∏ò‡∏µ‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢ ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°';
        return '‡∏ò‡∏µ‡∏°‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏• ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó';

      // ‡∏ò‡∏µ‡∏°‡πÄ‡∏Å‡πà‡∏≤
      case ScreenShopTheme.greenEco:
        return '‡∏ò‡∏µ‡∏°‡πÄ‡∏ô‡πâ‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô';
      case ScreenShopTheme.modernLuxury:
        return '‡∏ò‡∏µ‡∏°‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢';
      case ScreenShopTheme.minimalist:
        return '‡∏ò‡∏µ‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ï‡∏≤';
      case ScreenShopTheme.techDigital:
        return '‡∏ò‡∏µ‡∏°‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÅ‡∏•‡∏∞‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•';
      case ScreenShopTheme.warmVintage:
        return '‡∏ò‡∏µ‡∏°‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å';
      case ScreenShopTheme.vibrantYouth:
        return '‡∏ò‡∏µ‡∏°‡∏™‡∏î‡πÉ‡∏™‡πÅ‡∏•‡∏∞‡πÄ‡∏¢‡∏≤‡∏ß‡∏ä‡∏ô';
      case ScreenShopTheme.shopeeOrange:
        return '‡∏ò‡∏µ‡∏°‡∏™‡πâ‡∏°‡∏™‡∏î‡πÉ‡∏™ ‡πÅ‡∏ö‡∏ö Shopee';
      case ScreenShopTheme.lazadaBlue:
        return '‡∏ò‡∏µ‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡πÅ‡∏ö‡∏ö Lazada';
      case ScreenShopTheme.elegantGold:
        return '‡∏ò‡∏µ‡∏°‡∏ó‡∏≠‡∏á‡∏™‡∏∏‡∏î‡∏´‡∏£‡∏π ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏´‡∏£‡∏π';
      case ScreenShopTheme.freshMint:
        return '‡∏ò‡∏µ‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏¥‡πâ‡∏ô‡∏ï‡πå ‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô';
    }
  }

  Color get primaryColor {
    switch (this) {
      // ‡∏ò‡∏µ‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà - Green Market Style
      case ScreenShopTheme.shopeeClassic:
        return const Color(0xFFEE4D2D); // ‡∏™‡πâ‡∏° Shopee ‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Ñ
      case ScreenShopTheme.fashionBoutique:
        return const Color(0xFFE91E63); // ‡∏ä‡∏°‡∏û‡∏π‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô
      case ScreenShopTheme.techStore:
        return const Color(0xFF1565C0); // ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ó‡∏Ñ
      case ScreenShopTheme.beautyCosmetic:
        return const Color(0xFF9C27B0); // ‡∏°‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°
      case ScreenShopTheme.foodDelivery:
        return const Color(0xFFD32F2F); // ‡πÅ‡∏î‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£
      case ScreenShopTheme.sportsOutdoor:
        return const Color(0xFF388E3C); // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Å‡∏µ‡∏¨‡∏≤
      case ScreenShopTheme.homeDecor:
        return const Color(0xFF5D4037); // ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ö‡πâ‡∏≤‡∏ô
      case ScreenShopTheme.kidsFamily:
        return const Color(0xFFFFC107); // ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å
      case ScreenShopTheme.luxuryBrand:
        return const Color(0xFF212121); // ‡∏î‡∏≥‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤
      case ScreenShopTheme.naturalOrganic:
        return const Color(0xFF2E7D32); // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥
      case ScreenShopTheme.vintageRetro:
        return const Color(0xFF8D6E63); // ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏à
      case ScreenShopTheme.minimalistClean:
        return const Color(0xFF757575); // ‡πÄ‡∏ó‡∏≤‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•

      // ‡∏ò‡∏µ‡∏°‡πÄ‡∏Å‡πà‡∏≤
      case ScreenShopTheme.greenEco:
        return const Color(0xFF2E7D32);
      case ScreenShopTheme.modernLuxury:
        return const Color(0xFF1A1A1A);
      case ScreenShopTheme.minimalist:
        return const Color(0xFF424242);
      case ScreenShopTheme.techDigital:
        return const Color(0xFF0D47A1);
      case ScreenShopTheme.warmVintage:
        return const Color(0xFF8D6E63);
      case ScreenShopTheme.vibrantYouth:
        return const Color(0xFFE91E63);
      case ScreenShopTheme.shopeeOrange:
        return const Color(0xFFEE4D2D); // Shopee's signature orange
      case ScreenShopTheme.lazadaBlue:
        return const Color(0xFF0F136D); // Lazada's deep blue
      case ScreenShopTheme.elegantGold:
        return const Color(0xFFB8860B); // Dark gold
      case ScreenShopTheme.freshMint:
        return const Color(0xFF00A896); // Fresh mint green
    }
  }

  Color get secondaryColor {
    switch (this) {
      // ‡∏ò‡∏µ‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà - Green Market Style
      case ScreenShopTheme.shopeeClassic:
        return const Color(0xFFFFB74D); // ‡∏™‡πâ‡∏°‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.fashionBoutique:
        return const Color(0xFFF8BBD9); // ‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.techStore:
        return const Color(0xFF42A5F5); // ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.beautyCosmetic:
        return const Color(0xFFE1BEE7); // ‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.foodDelivery:
        return const Color(0xFFEF9A9A); // ‡πÅ‡∏î‡∏á‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.sportsOutdoor:
        return const Color(0xFF81C784); // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.homeDecor:
        return const Color(0xFFBCAAA4); // ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.kidsFamily:
        return const Color(0xFFFFF59D); // ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.luxuryBrand:
        return const Color(0xFFD4AF37); // ‡∏ó‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏°
      case ScreenShopTheme.naturalOrganic:
        return const Color(0xFF66BB6A); // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.vintageRetro:
        return const Color(0xFFD7CCC8); // ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏≠‡πà‡∏≠‡∏ô
      case ScreenShopTheme.minimalistClean:
        return const Color(0xFFE0E0E0); // ‡πÄ‡∏ó‡∏≤‡∏≠‡πà‡∏≠‡∏ô

      // ‡∏ò‡∏µ‡∏°‡πÄ‡∏Å‡πà‡∏≤
      case ScreenShopTheme.greenEco:
        return const Color(0xFF66BB6A);
      case ScreenShopTheme.modernLuxury:
        return const Color(0xFFD4AF37);
      case ScreenShopTheme.minimalist:
        return const Color(0xFF9E9E9E);
      case ScreenShopTheme.techDigital:
        return const Color(0xFF1976D2);
      case ScreenShopTheme.warmVintage:
        return const Color(0xFFBCAAA4);
      case ScreenShopTheme.vibrantYouth:
        return const Color(0xFFFF4081);
      case ScreenShopTheme.shopeeOrange:
        return const Color(0xFFFFB74D); // Light orange complement
      case ScreenShopTheme.lazadaBlue:
        return const Color(0xFF3F51B5); // Medium blue
      case ScreenShopTheme.elegantGold:
        return const Color(0xFFFFD700); // Bright gold
      case ScreenShopTheme.freshMint:
        return const Color(0xFF4ECDC4); // Light mint
    }
  }
}

/// ‡∏ò‡∏µ‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Shopee Style ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Green Market
class ShopTemplate {
  final ScreenShopTheme theme;
  final String name;
  final String description;
  final ShopColors colors;
  final ShopLayout layout;
  final ShopBanner? defaultBanner;
  final List<String> defaultMessages;
  final String fontFamily;
  final Map<String, String> iconEmojis;
  final List<String> suggestedCategories;

  const ShopTemplate({
    required this.theme,
    required this.name,
    required this.description,
    required this.colors,
    required this.layout,
    this.defaultBanner,
    this.defaultMessages = const [],
    this.fontFamily = 'Sarabun',
    this.iconEmojis = const {},
    this.suggestedCategories = const [],
  });

  /// ‡∏£‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡∏ï‡∏≤‡∏° ScreenShopTheme
  static ShopTemplate getTemplate(ScreenShopTheme theme) {
    switch (theme) {
      case ScreenShopTheme.shopeeClassic:
        return ShopTemplate(
          theme: theme,
          name: '‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å',
          description: '‡∏ò‡∏µ‡∏°‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ï‡∏•‡∏≤‡∏î‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó',
          colors: ShopColors(
            primary: '#2E7D32',
            secondary: '#66BB6A',
            accent: '#4CAF50',
            background: '#FFFFFF',
            surface: '#F8FFF8',
            text: '#1B5E20',
          ),
          layout: ShopLayout(
            gridColumns: 2,
            cardSpacing: 12.0,
            showPrices: true,
            showRatings: true,
            headerStyle: 'green_market',
          ),
          defaultBanner: ShopBanner(
            title: 'üå± ‡∏ï‡∏•‡∏≤‡∏î‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö',
            subtitle: '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°',
            buttonText: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢',
            isVisible: true,
          ),
          defaultMessages: [
            '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞? üåø',
            '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°',
            '‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏•‡∏Å‡∏ó‡∏µ‡πà‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô üåç',
            '‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏ü‡∏£‡∏µ! ‡∏ö‡∏£‡∏£‡∏à‡∏∏‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡πÑ‡∏î‡πâ ‚ôªÔ∏è'
          ],
          iconEmojis: {
            'green': 'üå±',
            'eco': 'üåø',
            'earth': 'üåç',
            'recycle': '‚ôªÔ∏è',
            'heart': 'üíö',
          },
          suggestedCategories: [
            '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°',
            '‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å',
            '‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•',
            '‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô'
          ],
        );

      case ScreenShopTheme.fashionBoutique:
        return ShopTemplate(
          theme: theme,
          name: '‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô',
          description: '‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•',
          colors: ShopColors(
            primary: '#E91E63',
            secondary: '#F8BBD9',
            accent: '#FF4081',
            background: '#FFFFFF',
            surface: '#FCF4F7',
            text: '#2C2C2C',
          ),
          layout: ShopLayout(
            gridColumns: 2,
            cardSpacing: 16.0,
            showPrices: true,
            showRatings: true,
            headerStyle: 'sustainable_fashion',
          ),
          defaultBanner: ShopBanner(
            title: '‚ôªÔ∏è ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô',
            subtitle: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏ú‡πâ‡∏≤‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏• ‡∏™‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡πÇ‡∏•‡∏Å',
            buttonText: '‡∏ä‡πâ‡∏≠‡∏õ‡πÄ‡∏•‡∏¢',
            isVisible: true,
          ),
          defaultMessages: [
            '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡∏™‡∏ô‡πÉ‡∏à‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞? ÔøΩ‚ôªÔ∏è',
            '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏ú‡πâ‡∏≤‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•',
            '‡∏™‡∏ß‡∏¢‡πÉ‡∏™ ‡πÉ‡∏™‡πà‡∏™‡∏ö‡∏≤‡∏¢ ‡πÉ‡∏™‡πà‡πÉ‡∏à‡πÇ‡∏•‡∏Å üåç',
            '‡∏°‡∏µ‡πÑ‡∏ã‡∏™‡πå‡∏Ñ‡∏£‡∏ö S-XXL ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô ‚ú®'
          ],
          iconEmojis: {
            'fashion': 'üëó',
            'recycle': '‚ôªÔ∏è',
            'organic': 'üåø',
            'earth': 'ÔøΩ',
            'sparkle': '‚ú®',
          },
          suggestedCategories: [
            '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å',
            '‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•',
            '‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°',
            '‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥'
          ],
        );

      case ScreenShopTheme.techStore:
        return ShopTemplate(
          theme: theme,
          name: '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß',
          description: '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô',
          colors: ShopColors(
            primary: '#1565C0',
            secondary: '#42A5F5',
            accent: '#0D47A1',
            background: '#FFFFFF',
            surface: '#F5F8FF',
            text: '#1A1A1A',
          ),
          layout: ShopLayout(
            gridColumns: 2,
            cardSpacing: 8.0,
            showPrices: true,
            showRatings: true,
            headerStyle: 'green_tech',
          ),
          defaultBanner: ShopBanner(
            title: 'ÔøΩ ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß',
            subtitle: '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏ó‡∏µ‡πà‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô',
            buttonText: '‡∏™‡∏≥‡∏£‡∏ß‡∏à',
            isVisible: true,
          ),
          defaultMessages: [
            '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö? ÔøΩ',
            '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û',
            '‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü ‡∏•‡∏î‡πÇ‡∏•‡∏Å‡∏£‡πâ‡∏≠‡∏ô üåç',
            '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‚ö°'
          ],
          iconEmojis: {
            'battery': 'ÔøΩ',
            'eco': 'üåø',
            'energy': '‚ö°',
            'tech': 'ÔøΩ',
            'earth': 'üåç',
          },
          suggestedCategories: [
            '‡πÅ‡∏ú‡∏á‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå',
            '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü',
            '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏∞‡∏≠‡∏≤‡∏î',
            '‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•'
          ],
        );

      case ScreenShopTheme.beautyCosmetic:
        return ShopTemplate(
          theme: theme,
          name: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥',
          description: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏≠‡∏≤‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ú‡∏¥‡∏ß‡∏£‡∏±‡∏Å‡∏©‡πå‡πÇ‡∏•‡∏Å',
          colors: ShopColors(
            primary: '#9C27B0',
            secondary: '#E1BEE7',
            accent: '#8E24AA',
            background: '#FFFFFF',
            surface: '#FAF8FB',
            text: '#2E2E2E',
          ),
          layout: ShopLayout(
            gridColumns: 3,
            cardSpacing: 12.0,
            showPrices: true,
            showRatings: true,
            headerStyle: 'natural_beauty',
          ),
          defaultBanner: ShopBanner(
            title: 'üåø ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥',
            subtitle: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏≠‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ',
            buttonText: '‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',
            isVisible: true,
          ),
          defaultMessages: [
            '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏≠‡∏≤‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞? üåøÔøΩ',
            '‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ï‡πà‡∏≠‡∏ú‡∏¥‡∏ß',
            '‡∏ú‡∏•‡∏¥‡∏ï‡∏à‡∏≤‡∏Å‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡πÑ‡∏ó‡∏¢ üå∫',
            '‡∏á‡∏≤‡∏°‡πÇ‡∏î‡∏¢‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‚ú®'
          ],
          iconEmojis: {
            'nature': 'üåø',
            'beauty': 'üíÑ',
            'flower': 'üå∫',
            'safe': 'ÔøΩÔ∏è',
            'sparkle': '‚ú®',
          },
          suggestedCategories: [
            '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏≠‡∏≤‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥',
            '‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏¥‡∏ß',
            '‡∏ô‡πâ‡∏≥‡∏´‡∏≠‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥',
            '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏¥‡∏ß'
          ],
        );

      case ScreenShopTheme.naturalOrganic:
        return ShopTemplate(
          theme: theme,
          name: '‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÅ‡∏ó‡πâ 100%',
          description: '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÅ‡∏ó‡πâ 100% ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô',
          colors: ShopColors(
            primary: '#2E7D32',
            secondary: '#66BB6A',
            accent: '#4CAF50',
            background: '#FFFFFF',
            surface: '#F8FFF8',
            text: '#1B5E20',
          ),
          layout: ShopLayout(
            gridColumns: 2,
            cardSpacing: 14.0,
            showPrices: true,
            showRatings: true,
            headerStyle: 'organic_certified',
          ),
          defaultBanner: ShopBanner(
            title: 'üå± ‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÅ‡∏ó‡πâ 100%',
            subtitle: '‡∏à‡∏≤‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ',
            buttonText: '‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',
            isVisible: true,
          ),
          defaultMessages: [
            '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞? üåø',
            '‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å 100%',
            '‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡∏û‡∏¥‡∏© üå±',
            '‡∏î‡∏µ‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û ‡∏î‡∏µ‡∏ï‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° üåç'
          ],
          iconEmojis: {
            'organic': 'üå±',
            'nature': 'üåø',
            'health': 'üíö',
            'earth': 'üåç',
            'certified': '‚úÖ',
          },
          suggestedCategories: [
            '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å',
            '‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥',
            '‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£',
            '‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°'
          ],
        );

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ò‡∏µ‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£...
      default:
        return _getDefaultTemplate(theme);
    }
  }

  static ShopTemplate _getDefaultTemplate(ScreenShopTheme theme) {
    return ShopTemplate(
      theme: theme,
      name: theme.name,
      description: theme.description,
      colors: ShopColors(
        primary: '#lib/screens/seller/create_promotion_screen.dart',
        secondary:
            '#lib/screens/seller/create_promotion_screen.dart',
      ),
      layout: ShopLayout(),
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'theme': theme.toString().split('.').last,
      'name': name,
      'description': description,
      'colors': colors.toMap(),
      'layout': layout.toMap(),
      'defaultBanner': defaultBanner?.toMap(),
      'defaultMessages': defaultMessages,
      'fontFamily': fontFamily,
      'iconEmojis': iconEmojis,
      'suggestedCategories': suggestedCategories,
    };
  }
}

class ShopBanner {
  final String? imageUrl;
  final String? title;
  final String? subtitle;
  final String? buttonText;
  final String? buttonLink;
  final bool isVisible;

  ShopBanner({
    this.imageUrl,
    this.title,
    this.subtitle,
    this.buttonText,
    this.buttonLink,
    this.isVisible = true,
  });

  factory ShopBanner.fromMap(Map<String, dynamic> map) {
    return ShopBanner(
      imageUrl: map['imageUrl'],
      title: map['title'],
      subtitle: map['subtitle'],
      buttonText: map['buttonText'],
      buttonLink: map['buttonLink'],
      isVisible: map['isVisible'] ?? true,
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'imageUrl': imageUrl,
      'title': title,
      'subtitle': subtitle,
      'buttonText': buttonText,
      'buttonLink': buttonLink,
      'isVisible': isVisible,
    };
  }
}

class ShopSection {
  final String id;
  final String title;
  final SectionType type;
  final List<String> productIds;
  final int order;
  final bool isVisible;
  final Map<String, dynamic> settings;

  ShopSection({
    required this.id,
    required this.title,
    required this.type,
    required this.productIds,
    required this.order,
    this.isVisible = true,
    this.settings = const {},
  });

  factory ShopSection.fromMap(Map<String, dynamic> map) {
    return ShopSection(
      id: map['id'] ?? '',
      title: map['title'] ?? '',
      type: SectionType.values.firstWhere(
        (e) => e.toString().split('.').last == map['type'],
        orElse: () => SectionType.products,
      ),
      productIds: List<String>.from(map['productIds'] ?? []),
      order: map['order'] ?? 0,
      isVisible: map['isVisible'] ?? true,
      settings: Map<String, dynamic>.from(map['settings'] ?? {}),
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'id': id,
      'title': title,
      'type': type.toString().split('.').last,
      'productIds': productIds,
      'order': order,
      'isVisible': isVisible,
      'settings': settings,
    };
  }
}

enum SectionType {
  products,
  banner,
  carousel,
  grid,
  list,
  featured,
  newArrivals,
  bestSellers,
  categories,
}

class ShopColors {
  final String primary;
  final String secondary;
  final String accent;
  final String background;
  final String surface;
  final String text;

  ShopColors({
    this.primary = '#20C997',
    this.secondary = '#0EA5E9',
    this.accent = '#F59E0B',
    this.background = '#FFFFFF',
    this.surface = '#F8FAFB',
    this.text = '#111827',
  });

  factory ShopColors.fromMap(Map<String, dynamic> map) {
    return ShopColors(
      primary: map['primary'] ?? '#20C997',
      secondary: map['secondary'] ?? '#0EA5E9',
      accent: map['accent'] ?? '#F59E0B',
      background: map['background'] ?? '#FFFFFF',
      surface: map['surface'] ?? '#F8FAFB',
      text: map['text'] ?? '#111827',
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'primary': primary,
      'secondary': secondary,
      'accent': accent,
      'background': background,
      'surface': surface,
      'text': text,
    };
  }
}

class ShopLayout {
  final int gridColumns;
  final double cardSpacing;
  final bool showPrices;
  final bool showRatings;
  final bool compactMode;
  final String headerStyle;

  ShopLayout({
    this.gridColumns = 2,
    this.cardSpacing = 8.0,
    this.showPrices = true,
    this.showRatings = true,
    this.compactMode = false,
    this.headerStyle = 'standard',
  });

  factory ShopLayout.fromMap(Map<String, dynamic> map) {
    return ShopLayout(
      gridColumns: map['gridColumns'] ?? 2,
      cardSpacing: (map['cardSpacing'] ?? 8.0).toDouble(),
      showPrices: map['showPrices'] ?? true,
      showRatings: map['showRatings'] ?? true,
      compactMode: map['compactMode'] ?? false,
      headerStyle: map['headerStyle'] ?? 'standard',
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'gridColumns': gridColumns,
      'cardSpacing': cardSpacing,
      'showPrices': showPrices,
      'showRatings': showRatings,
      'compactMode': compactMode,
      'headerStyle': headerStyle,
    };
  }
}

class ShopPromotion {
  final String id;
  final String title;
  final String description;
  final String? imageUrl;
  final String? discountCode;
  final PromotionType type;
  final double? discountPercent;
  final double? discountAmount;
  final double? minimumPurchase;
  final double? maximumDiscount; // ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö %)
  final int? buyQuantity;
  final int? getQuantity;
  final List<String>? applicableProductIds; // ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ
  final List<String>? applicableCategories; // ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ
  final int? usageLimit; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ
  final int? usageLimitPerUser; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô
  final int usedCount; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß
  final DateTime? startDate;
  final DateTime? endDate;
  final TimeOfDay? startTime; // ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  final TimeOfDay? endTime; // ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î
  final bool isActive;
  final bool isPublic; // ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏Ñ‡πâ‡∏î
  final String? iconEmoji;
  final String? backgroundColor;
  final String sellerId; // ID ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
  final DateTime createdAt;
  final DateTime? updatedAt;
  final String? terms; // ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
  final Priority priority; // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô

  ShopPromotion({
    required this.id,
    required this.title,
    required this.description,
    required this.type,
    required this.sellerId,
    required this.createdAt,
    this.imageUrl,
    this.discountCode,
    this.discountPercent,
    this.discountAmount,
    this.minimumPurchase,
    this.maximumDiscount,
    this.buyQuantity,
    this.getQuantity,
    this.applicableProductIds,
    this.applicableCategories,
    this.usageLimit,
    this.usageLimitPerUser,
    this.usedCount = 0,
    this.startDate,
    this.endDate,
    this.startTime,
    this.endTime,
    this.isActive = true,
    this.isPublic = true,
    this.iconEmoji,
    this.backgroundColor,
    this.updatedAt,
    this.terms,
    this.priority = Priority.normal,
  });

  factory ShopPromotion.fromMap(Map<String, dynamic> map) {
    return ShopPromotion(
      id: map['id'] ?? '',
      title: map['title'] ?? '',
      description: map['description'] ?? '',
      type: PromotionType.values.firstWhere(
        (e) => e.toString().split('.').last == map['type'],
        orElse: () => PromotionType.percentDiscount,
      ),
      sellerId: map['sellerId'] ?? '',
      createdAt: map['createdAt']?.toDate() ?? DateTime.now(),
      imageUrl: map['imageUrl'],
      discountCode: map['discountCode'],
      discountPercent: map['discountPercent']?.toDouble(),
      discountAmount: map['discountAmount']?.toDouble(),
      minimumPurchase: map['minimumPurchase']?.toDouble(),
      maximumDiscount: map['maximumDiscount']?.toDouble(),
      buyQuantity: map['buyQuantity']?.toInt(),
      getQuantity: map['getQuantity']?.toInt(),
      applicableProductIds: map['applicableProductIds'] != null
          ? List<String>.from(map['applicableProductIds'])
          : null,
      applicableCategories: map['applicableCategories'] != null
          ? List<String>.from(map['applicableCategories'])
          : null,
      usageLimit: map['usageLimit']?.toInt(),
      usageLimitPerUser: map['usageLimitPerUser']?.toInt(),
      usedCount: map['usedCount']?.toInt() ?? 0,
      startDate: map['startDate']?.toDate(),
      endDate: map['endDate']?.toDate(),
      startTime: map['startTime'] != null 
          ? TimeOfDay(hour: map['startTime']['hour'], minute: map['startTime']['minute'])
          : null,
      endTime: map['endTime'] != null 
          ? TimeOfDay(hour: map['endTime']['hour'], minute: map['endTime']['minute'])
          : null,
      isActive: map['isActive'] ?? true,
      isPublic: map['isPublic'] ?? true,
      iconEmoji: map['iconEmoji'],
      backgroundColor: map['backgroundColor'],
      updatedAt: map['updatedAt']?.toDate(),
      terms: map['terms'],
      priority: Priority.values.firstWhere(
        (e) => e.toString().split('.').last == map['priority'],
        orElse: () => Priority.normal,
      ),
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'id': id,
      'title': title,
      'description': description,
      'type': type.toString().split('.').last,
      'imageUrl': imageUrl,
      'discountCode': discountCode,
      'discountPercent': discountPercent,
      'discountAmount': discountAmount,
      'minimumPurchase': minimumPurchase,
      'maximumDiscount': maximumDiscount,
      'buyQuantity': buyQuantity,
      'getQuantity': getQuantity,
      'applicableProductIds': applicableProductIds,
      'applicableCategories': applicableCategories,
      'usageLimit': usageLimit,
      'usageLimitPerUser': usageLimitPerUser,
      'usedCount': usedCount,
      'startDate': startDate != null ? Timestamp.fromDate(startDate!) : null,
      'endDate': endDate != null ? Timestamp.fromDate(endDate!) : null,
      'startTime': startTime != null 
          ? {'hour': startTime!.hour, 'minute': startTime!.minute}
          : null,
      'endTime': endTime != null 
          ? {'hour': endTime!.hour, 'minute': endTime!.minute}
          : null,
      'isActive': isActive,
      'isPublic': isPublic,
      'iconEmoji': iconEmoji,
      'backgroundColor': backgroundColor,
      'sellerId': sellerId,
      'createdAt': Timestamp.fromDate(createdAt),
      'updatedAt': updatedAt != null ? Timestamp.fromDate(updatedAt!) : null,
      'terms': terms,
      'priority': priority.toString().split('.').last,
    };
  }

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
  bool get isValid {
    if (!isActive) return false;

    final now = DateTime.now();
    if (startDate != null && now.isBefore(startDate!)) return false;
    if (endDate != null && now.isAfter(endDate!)) return false;

    if (usageLimit != null && usedCount >= usageLimit!) return false;

    return true;
  }

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
  bool get isTimeValid {
    if (startTime == null && endTime == null) return true;
    
    final now = TimeOfDay.now();
    final nowInMinutes = now.hour * 60 + now.minute;
    
    if (startTime != null) {
      final startInMinutes = startTime!.hour * 60 + startTime!.minute;
      if (nowInMinutes < startInMinutes) return false;
    }
    
    if (endTime != null) {
      final endInMinutes = endTime!.hour * 60 + endTime!.minute;
      if (nowInMinutes > endInMinutes) return false;
    }
    
    return true;
  }

  // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô
  String get status {
    if (!isActive) return '‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
    
    final now = DateTime.now();
    if (startDate != null && now.isBefore(startDate!)) return '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°';
    if (endDate != null && now.isAfter(endDate!)) return '‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤';
    
    if (usageLimit != null && usedCount >= usageLimit!) return '‡πÉ‡∏ä‡πâ‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß';
    
    if (!isTimeValid) return '‡∏ô‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤';
    
    return '‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ';
  }

  // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
  String get conditionText {
    switch (type) {
      case PromotionType.percentDiscount:
        String text = '‡∏•‡∏î lib/screens/seller/create_promotion_screen.dart%';
        if (maximumDiscount != null) {
          text += ' (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡∏ølib/screens/seller/create_promotion_screen.dart)';
        }
        if (minimumPurchase != null) {
          text += ' ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ ‡∏ølib/screens/seller/create_promotion_screen.dart';
        }
        return text;
      case PromotionType.fixedDiscount:
        String text = '‡∏•‡∏î ‡∏ølib/screens/seller/create_promotion_screen.dart';
        if (minimumPurchase != null) {
          text += ' ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ ‡∏ølib/screens/seller/create_promotion_screen.dart';
        }
        return text;
      case PromotionType.freeShipping:
        return minimumPurchase != null
            ? '‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ ‡∏ølib/screens/seller/create_promotion_screen.dart'
            : '‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠';
      case PromotionType.buyXGetY:
        return '‡∏ã‡∏∑‡πâ‡∏≠ lib/screens/seller/create_promotion_screen.dart ‡πÅ‡∏ñ‡∏° lib/screens/seller/create_promotion_screen.dart';
      case PromotionType.flashSale:
        return '‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤!';
    }
  }

  // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î
  String get discountText {
    switch (type) {
      case PromotionType.percentDiscount:
        return 'lib/screens/seller/create_promotion_screen.dart% OFF';
      case PromotionType.fixedDiscount:
        return '‡∏ølib/screens/seller/create_promotion_screen.dart OFF';
      case PromotionType.freeShipping:
        return 'FREE SHIP';
      case PromotionType.buyXGetY:
        return '‡∏ã‡∏∑‡πâ‡∏≠ lib/screens/seller/create_promotion_screen.dart ‡πÅ‡∏ñ‡∏° lib/screens/seller/create_promotion_screen.dart';
      case PromotionType.flashSale:
        return 'FLASH SALE';
    }
  }

  // ‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
  ShopPromotion copyWith({
    String? id,
    String? title,
    String? description,
    String? imageUrl,
    String? discountCode,
    PromotionType? type,
    double? discountPercent,
    double? discountAmount,
    double? minimumPurchase,
    double? maximumDiscount,
    int? buyQuantity,
    int? getQuantity,
    List<String>? applicableProductIds,
    List<String>? applicableCategories,
    int? usageLimit,
    int? usageLimitPerUser,
    int? usedCount,
    DateTime? startDate,
    DateTime? endDate,
    TimeOfDay? startTime,
    TimeOfDay? endTime,
    bool? isActive,
    bool? isPublic,
    String? iconEmoji,
    String? backgroundColor,
    String? sellerId,
    DateTime? createdAt,
    DateTime? updatedAt,
    String? terms,
    Priority? priority,
  }) {
    return ShopPromotion(
      id: id ?? this.id,
      title: title ?? this.title,
      description: description ?? this.description,
      imageUrl: imageUrl ?? this.imageUrl,
      discountCode: discountCode ?? this.discountCode,
      type: type ?? this.type,
      discountPercent: discountPercent ?? this.discountPercent,
      discountAmount: discountAmount ?? this.discountAmount,
      minimumPurchase: minimumPurchase ?? this.minimumPurchase,
      maximumDiscount: maximumDiscount ?? this.maximumDiscount,
      buyQuantity: buyQuantity ?? this.buyQuantity,
      getQuantity: getQuantity ?? this.getQuantity,
      applicableProductIds: applicableProductIds ?? this.applicableProductIds,
      applicableCategories: applicableCategories ?? this.applicableCategories,
      usageLimit: usageLimit ?? this.usageLimit,
      usageLimitPerUser: usageLimitPerUser ?? this.usageLimitPerUser,
      usedCount: usedCount ?? this.usedCount,
      startDate: startDate ?? this.startDate,
      endDate: endDate ?? this.endDate,
      startTime: startTime ?? this.startTime,
      endTime: endTime ?? this.endTime,
      isActive: isActive ?? this.isActive,
      isPublic: isPublic ?? this.isPublic,
      iconEmoji: iconEmoji ?? this.iconEmoji,
      backgroundColor: backgroundColor ?? this.backgroundColor,
      sellerId: sellerId ?? this.sellerId,
      createdAt: createdAt ?? this.createdAt,
      updatedAt: updatedAt ?? DateTime.now(),
      terms: terms ?? this.terms,
      priority: priority ?? this.priority,
    );
  }

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  String? validate() {
    if (title.trim().isEmpty) {
      return '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô';
    }
    
    if (description.trim().isEmpty) {
      return '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô';
    }

    switch (type) {
      case PromotionType.percentDiscount:
        if (discountPercent == null || discountPercent! <= 0 || discountPercent! > 100) {
          return '‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1-100';
        }
        break;
      case PromotionType.fixedDiscount:
        if (discountAmount == null || discountAmount! <= 0) {
          return '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0';
        }
        break;
      case PromotionType.buyXGetY:
        if (buyQuantity == null || buyQuantity! <= 0) {
          return '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0';
        }
        if (getQuantity == null || getQuantity! <= 0) {
          return '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ñ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0';
        }
        break;
      default:
        break;
    }

    if (startDate != null && endDate != null && startDate!.isAfter(endDate!)) {
      return '‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î';
    }

    if (startTime != null && endTime != null) {
      final startMinutes = startTime!.hour * 60 + startTime!.minute;
      final endMinutes = endTime!.hour * 60 + endTime!.minute;
      if (startMinutes >= endMinutes) {
        return '‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î';
      }
    }

    if (minimumPurchase != null && minimumPurchase! < 0) {
      return '‡∏¢‡∏≠‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 0';
    }

    if (usageLimit != null && usageLimit! <= 0) {
      return '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0';
    }

    if (usageLimitPerUser != null && usageLimitPerUser! <= 0) {
      return '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0';
    }

    return null; // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î
  }
}

enum PromotionType {
  percentDiscount, // ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå
  fixedDiscount, // ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô
  freeShipping, // ‡∏ü‡∏£‡∏µ‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á
  buyXGetY, // ‡∏ã‡∏∑‡πâ‡∏≠ X ‡πÅ‡∏ñ‡∏° Y
  flashSale, // Flash Sale
}

enum Priority {
  low,
  normal,
  high,
  urgent,
}
